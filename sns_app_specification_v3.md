# SNS運用支援アプリ 開発仕様書 v3.0

**プロジェクト名**: ContentHub AI  
**作成日**: 2026年2月6日  
**更新日**: 2026年2月10日（v3.0）  
**完成目標**: Phase 1: 2〜3週間 / Phase 2: +2週間  
**予算**: 低予算（個人開発、数万円以内）

---

## 📋 目次

1. [プロジェクト概要](#1-プロジェクト概要)
2. [開発方針・機能切り分け](#2-開発方針機能切り分け)
3. [技術スタック](#3-技術スタック)
4. [機能要件詳細](#4-機能要件詳細)
5. [データ構造](#5-データ構造)
6. [画面設計](#6-画面設計)
7. [API仕様](#7-api仕様)
8. [開発フェーズ](#8-開発フェーズ)
9. [Notion連携（将来機能）](#9-notion連携将来機能)
10. [コスト試算](#10-コスト試算)
11. [v2.0からの変更履歴](#11-v20からの変更履歴)

---

## 1. プロジェクト概要

### 1.1 目的
HSP女性エンジニアのSNS運用（X、Threads、NOTE）を自動化・効率化し、月間売上30万円達成を支援するアプリ

### 1.2 主要機能（優先順位順）

| 機能 | 実行方式 | 優先度 | 開発Phase |
|------|---------|--------|-----------|
| **1. コンテンツカレンダー作成** | 適宜実行 | ⭐⭐⭐ 最重要 | Phase 1 |
| **2. X投稿作成** | 適宜実行（毎日3投稿分） | ⭐⭐⭐ | Phase 1 |
| **3. Threads投稿作成** | 適宜実行（毎日3投稿分） | ⭐⭐⭐ | Phase 1 |
| **4. NOTE記事案作成** | 適宜実行（1ヶ月分のスケジュール付き） | ⭐⭐⭐ | Phase 1 |
| **5. NOTE記事作成（4種類）** | 適宜実行 | ⭐⭐⭐ | Phase 2 |
| **6. 文体学習** | 適宜実行（過去記事/投稿のコピペで学習） | ⭐⭐ | Phase 1 |
| **7. トレンド分析** | 毎日自動（朝7時）→ メール送信 | ⭐⭐ | Phase 1.5 |
| **8. アカウント分析** | 週次・月次自動 → レポート + メール送信 | ⭐⭐ | Phase 1.5 |
| **9. 競合調査** | 月次自動（月末）→ レポート + メール送信 | ⭐⭐ | Phase 1.5 |

### 1.3 対象プラットフォーム
- X（Twitter）
- Threads
- NOTE

---

## 2. 開発方針・機能切り分け

### 2.1 切り分けの考え方

各機能を「Webアプリに組み込むべきか」「Claude.aiの手動操作で代替可能か」で判断し、開発リソースを最適化する。

| カテゴリ | 判断基準 |
|---------|---------|
| **A: アプリ組み込み必須** | データ蓄積・自動連携・スケジューラーが必要な機能 |
| **B: Phase 2でアプリ組み込み** | 価値はあるが、Phase 1ではClaude.aiで代替可能な機能 |
| **C: 将来機能** | 開発コストが高く、まずは手動 or 別ツールで対応 |

### 2.2 各機能の切り分け判定

| 機能 | 判定 | 理由 |
|------|------|------|
| コンテンツカレンダー | **A: アプリ必須** | 学習データ・分析結果の自動反映が必要。手動では毎回コンテキストを渡すのが非現実的 |
| X投稿作成 | **A: アプリ必須** | 投稿済み/未採用の学習ループ、保存BOX管理、30個×N条件の一括生成が必要 |
| Threads投稿作成 | **A: アプリ必須** | 同上（XとThreadsで別の文体学習データを管理） |
| NOTE記事案作成 | **A: アプリ必須** | カレンダーとの連動、記事種類の配分管理が必要 |
| NOTE記事作成（4種類） | **B: Phase 2** | 月数本の頻度。Phase 1ではClaude.aiのProject機能で代替可能（4つのProjectを作成し各々にSystem Promptと過去記事サンプルを設定） |
| 文体学習 | **A: アプリ必須** | 全生成機能の土台。6種類の文体データを別々に管理する必要あり |
| トレンド分析 | **A: アプリ必須** | 毎日自動実行→Gmail送信のスケジューラーが必要 |
| アカウント分析 | **A: アプリ必須** | 週次自動実行→メール送信、結果をカレンダー生成に反映 |
| 競合調査 | **A: アプリ必須** | 月次自動実行→メール送信、バズ投稿のナレッジ蓄積 |
| ポジネガ分析 | **C: 将来機能** | MeCab/GiNZA等の自然言語処理。別マイクロサービスとして構築推奨 |
| 変化検知→通知 | **C: 将来機能** | Slack/Discord連携。分析基盤が安定してから実装 |
| Notion連携 | **C: 将来機能** | 双方向同期は複雑。まずはCSVエクスポート→手動インポートで代替 |

### 2.3 Phase 1でのNOTE記事作成の代替手段

Phase 1ではNOTE記事作成機能をアプリに組み込まず、以下の方法で代替する：

1. Claude.ai上に**4つのProject**を作成:
   - 「NOTE無料記事（アフィなし）」
   - 「NOTE無料記事（アフィあり）」
   - 「NOTEメンバーシップ記事」
   - 「NOTE有料記事」
2. 各Projectに**System Prompt**として記事構成ルールと文体指示を設定
3. 各Projectに**過去記事サンプル**をアップロードして文体学習
4. 記事作成時は該当Projectを開き、タイトルと伝えたい内容を入力

**Phase 2でアプリに組み込む価値**:
- 文体学習データをアプリ内で一元管理し自動で渡せる
- 4種類それぞれの設定ボタン（プロンプト登録）機能
- 有料記事の添付コンテンツ確認→使い方説明の自動生成
- 投稿済みフィードバックとの連携

---

## 3. 技術スタック

### 3.1 フロントエンド
```
- React.js (v18+)
- TypeScript
- Tailwind CSS
- React Router
- Zustand (状態管理)
- React Query (API通信)
```

### 3.2 バックエンド
```
- Node.js (v20+)
- Express.js
- TypeScript
- node-cron (スケジューラー)
```

### 3.3 AI API（ハイブリッド方式）
```
【Claude API】- 高品質な文章生成用
- NOTE記事作成（全4種類）
- X・Threads投稿作成
- コンテンツカレンダー作成
- 文体学習

【Gemini API】- コスト削減用
- トレンド分析（市場調査）
- 競合調査
- アカウント分析
```

### 3.4 データストレージ
```
- Google Drive API
  - 全データの保存・読み込み
  - フォルダ構成: /ContentHub/
```

### 3.5 外部API
```
- X API v2（データ取得のみ）
  ※ Free tierは月1,500ツイート読み取りが上限。
    競合調査はスクレイピングとのハイブリッドも検討
- Threads API（データ取得のみ）
- NOTE API or スクレイピング
- Gmail API（レポートメール送信）
- Google Trends: 公式APIなし（pytrends非公式ライブラリ or Geminiグラウンディング検索で代替）
- Yahoo知恵袋: スクレイピングで対応
```

### 3.6 デプロイ
```
- フロントエンド: Vercel (無料枠)
- バックエンド: Railway / Render (無料枠)
```

---

## 4. 機能要件詳細

### 4.1 コンテンツカレンダー作成機能（⭐最重要）

#### 4.1.1 概要
1ヶ月分のSNS投稿計画を自動生成し、投稿学習データとアカウント分析結果を反映

#### 4.1.2 UI設計

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📅 コンテンツカレンダー作成
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【設定】

開始日:
┌─────────┐
│ 2026/03/01 │ 📅
└─────────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【投稿頻度設定】

X (Twitter):
┌───┐ 回/日
│ 3 │
└───┘

Threads:
┌───┐ 回/日
│ 1 │
└───┘

NOTE無料記事（アフィなし）:
┌───┐ 回/月
│ 4 │
└───┘

NOTE無料記事（アフィあり）:
┌───┐ 回/月
│ 2 │
└───┘

NOTEメンバーシップ記事:
┌───┐ 回/月
│ 3 │
└───┘

NOTE有料記事:
┌───┐ 回/月
│ 1 │
└───┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[カレンダー生成]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【生成されたカレンダー】（表形式・全30日分）

┌──────────────────────────────────────────────┐
│ 日付 │ 曜日 │ 時間  │ Platform │ カテゴリ  │ タイトル案          │ 目的              │ ハッシュタグ           │
├──────────────────────────────────────────────┤
│ 3/1  │ 土   │ 07:30 │ X        │ HSP共感   │ 「会議前に心臓      │ 共感形成 →        │ #HSP #AI活用          │
│      │      │       │          │           │ バクバク」あるある  │ NOTE誘導          │ #繊細さん              │
│      │      │       │          │           │ から始める朝の心理  │                   │                        │
│      │      │       │          │           │ 的負担を減らすAI    │                   │                        │
│      │      │       │          │           │ 活用法の紹介        │                   │                        │
│      │      │       │          │           │                     │                   │ [修正]                 │
├──────────────────────────────────────────────┤
│ 3/1  │ 土   │ 12:30 │ X        │ 家庭DX    │ 共働き夫婦の家事    │ 実践的価値提供    │ #共働き #Notion       │
│      │      │       │          │           │ 分担をNotionで      │                   │ #家事DX                │
│      │      │       │          │           │ 可視化する方法      │                   │                        │
│      │      │       │          │           │                     │                   │ [修正]                 │
├──────────────────────────────────────────────┤
│ 3/2  │ 日   │ 10:00 │ Threads  │ マインド  │ 双極性障害でも      │ 深い共感形成      │ #双極性障害           │
│      │      │       │          │           │ 諦めなかったキャリ  │                   │ #キャリア #諦めない    │
│      │      │       │          │           │ ア継続の話          │                   │                        │
│      │      │       │          │           │ （ストーリー形式）  │                   │ [修正]                 │
├──────────────────────────────────────────────┤
│ 3/3  │ 月   │ -     │ NOTE     │ 無料記事  │ 「会議前のドキドキ  │ 共感形成 +        │ #HSP #AI活用          │
│      │      │       │(アフィなし)│          │ が消えた！HSPの私   │ PV獲得            │ #繊細さん              │
│      │      │       │          │           │ が見つけたAI活用    │                   │                        │
│      │      │       │          │           │ 術3選」             │                   │ [修正]                 │
├──────────────────────────────────────────────┤
│ 3/5  │ 水   │ -     │ NOTE     │ メンバー  │ 【メンバー限定】    │ コミュニティ      │ -                      │
│      │      │       │(メンバー) │ シップ    │ 今週のAI活用Q&A    │ 価値提供          │                        │
│      │      │       │          │           │ まとめ              │                   │ [修正]                 │
├──────────────────────────────────────────────┤
│ 3/15 │ 土   │ -     │ NOTE     │ 有料記事  │ 「HSP女性が3回転職  │ 高単価note販売    │ -                      │
│      │      │       │(有料)    │           │ しても年収を下げな  │                   │                        │
│      │      │       │          │           │ かった7つの戦略」   │                   │                        │
│      │      │       │          │           │ （¥5,980）          │                   │ [修正]                 │
└──────────────────────────────────────────────┘

（以下、30日分続く...）

[CSVダウンロード] [Notion連携（将来機能）]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.1.3 カレンダー生成ロジック

**STEP 1: 投稿スケジュール計算**
- X: 3回/日 × 30日 = 90投稿
- Threads: 1回/日 × 30日 = 30投稿
- NOTE無料（アフィなし）: 4回/月
- NOTE無料（アフィあり）: 2回/月
- NOTEメンバーシップ: 3回/月
- NOTE有料: 1回/月

**STEP 2: 発信の柱の配分**
- X投稿90件を発信の柱別に配分:
  - HSP共感: 21% → 19投稿
  - 家庭DX: 23% → 21投稿
  - IT資格: 13% → 12投稿
  - マインド: 17% → 15投稿
  - NOTE誘導: 23% → 21投稿
  - プロフィール: 4% → 4投稿

**STEP 3: 学習データの反映**
- 過去の「投稿済み」データから高エンゲージメント投稿を分析
- 反応が良かったトピック・時間帯を優先配置

**STEP 4: アカウント分析結果の反映**
- 最新の週次レポートから:
  - 最も反応が良い時間帯
  - 効果的なハッシュタグ
  - 伸びているカテゴリ
- これらを優先的に配置

**STEP 5: Claude APIで各投稿の詳細生成**
- プロンプト例:
```
以下の条件でX投稿案を生成してください。

【基本情報】
- 日付: 2026/03/01（土）
- 時間: 07:30
- カテゴリ: HSP共感系
- 目的: 共感形成 → NOTE誘導

【学習データ（高評価だった投稿例）】
- "会議前の緊張をChatGPTで和らげる方法" → いいね78件
- "繊細さんのための朝のルーティン" → いいね65件

【アカウント分析結果】
- 朝7時台の投稿が最も反応が良い
- #HSP #AI活用 のハッシュタグが効果的

【発信内容アイデア】と【ハッシュタグ】を生成してください。
```

#### 4.1.4 修正機能

**1行単位での再生成**:
- ユーザーが[修正]ボタンを押す
- その行の「カテゴリ」「タイトル案」「目的」「ハッシュタグ」のみ再生成
- 日付・時間・Platformは変更しない
- **修正指示の入力欄**で、どのように修正してほしいかを指定可能

**修正UI**:
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
修正オプション

この投稿を修正しますか？

元の内容:
カテゴリ: HSP共感
タイトル案: 「会議前に心臓バクバク」...
目的: 共感形成 → NOTE誘導
ハッシュタグ: #HSP #AI活用 #繊細さん

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

修正指示（任意）:
┌─────────────────────────┐
│ もっとポジティブな内容にしてほしい      │
└─────────────────────────┘

[再生成] [キャンセル]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.1.5 データ保存

**保存先**: Google Drive `/ContentHub/ContentCalendar/YYYY-MM.json`

**データ構造**:
```json
{
  "start_date": "2026-03-01",
  "end_date": "2026-03-31",
  "frequency_settings": {
    "x_per_day": 3,
    "threads_per_day": 1,
    "note_free_no_affiliate_per_month": 4,
    "note_free_with_affiliate_per_month": 2,
    "note_membership_per_month": 3,
    "note_paid_per_month": 1
  },
  "posts": [
    {
      "date": "2026-03-01",
      "day_of_week": "土",
      "time": "07:30",
      "platform": "X",
      "category": "HSP共感",
      "title_idea": "「会議前に心臓バクバク」あるあるから始める朝の心理的負担を減らすAI活用法の紹介",
      "purpose": "共感形成 → NOTE誘導",
      "hashtags": ["#HSP", "#AI活用", "#繊細さん"]
    }
  ]
}
```

#### 4.1.6 Notion連携（将来機能）

**Phase 3で実装予定**:
- Notion API連携
- カレンダーをNotionデータベースに同期
- Notion側での編集をアプリに反映

---

### 4.2 NOTE記事案作成機能（⭐重要）

#### 4.2.1 概要
1ヶ月分のNOTE記事案を、投稿スケジュール付きで一括提示する機能。

#### 4.2.2 主な機能
- 1ヶ月分の記事案を投稿スケジュール付きで自動生成
- 記事の種類（無料/無料アフィあり/メンバーシップ/有料）の配分を含む
- 気に入らない案があれば**個別に指定して修正**できる
- 修正時にはユーザーの修正指示を反映して再生成

#### 4.2.3 UI設計

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 NOTE記事案作成（1ヶ月分）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【設定】

開始月:
┌─────────┐
│ 2026年3月  │ 📅
└─────────┘

記事数設定:
  無料記事（アフィなし）: ┌───┐ 本/月
                          │ 4 │
                          └───┘
  無料記事（アフィあり）: ┌───┐ 本/月
                          │ 2 │
                          └───┘
  メンバーシップ記事:     ┌───┐ 本/月
                          │ 3 │
                          └───┘
  有料記事:              ┌───┐ 本/月
                          │ 1 │
                          └───┘

[記事案を生成]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【生成された記事案】（1ヶ月分）

┌──────────────────────────────────────┐
│ #1 │ 3/3（月）│ 無料（アフィなし）              │
├──────────────────────────────────────┤
│ タイトル案:                                      │
│ 「会議前のドキドキが消えた！HSPの私が見つけた   │
│  AI活用術3選」                                   │
│                                                  │
│ 概要: HSPあるあるの会議前不安に共感し、          │
│ ChatGPTを使った具体的な対処法を紹介              │
│                                                  │
│ [修正] [承認]                                    │
├──────────────────────────────────────┤
│ #2 │ 3/5（水）│ メンバーシップ                   │
├──────────────────────────────────────┤
│ タイトル案:                                      │
│ 【メンバー限定】今週のAI活用Q&Aまとめ            │
│                                                  │
│ 概要: メンバーからの質問に回答。                  │
│ ChatGPTの新機能活用法も紹介                      │
│                                                  │
│ [修正] [承認]                                    │
├──────────────────────────────────────┤
│ #3 │ 3/7（金）│ 無料（アフィあり）              │
├──────────────────────────────────────┤
│ タイトル案:                                      │
│ 「未経験から3ヶ月でエンジニアに転職できた理由」 │
│                                                  │
│ 概要: IT未経験からの転職体験を語りつつ、         │
│ ITスクールの無料相談へ自然に誘導                 │
│ アフィリエイト案件: TechAcademy                   │
│                                                  │
│ [修正] [承認]                                    │
├──────────────────────────────────────┤
│ #4 │ 3/12（水）│ メンバーシップ                  │
├──────────────────────────────────────┤
│ タイトル案:                                      │
│ 【メンバー限定】有用プロンプト5選                │
│ ～転職活動を効率化するAI活用術～                 │
│                                                  │
│ 概要: 転職活動で使える実践的なプロンプトを配布   │
│                                                  │
│ [修正] [承認]                                    │
├──────────────────────────────────────┤
│ #5 │ 3/15（土）│ 有料記事                       │
├──────────────────────────────────────┤
│ タイトル案:                                      │
│ 「HSP女性の転職活動完全マニュアル                │
│  ＋Notionテンプレート付き」（¥5,980）            │
│                                                  │
│ 概要: 転職戦略ノウハウ + 情報資産として          │
│ Notionテンプレートを提供                          │
│                                                  │
│ [修正] [承認]                                    │
├──────────────────────────────────────┤
│ #6 │ 3/20（木）│ メンバーシップ                  │
├──────────────────────────────────────┤
│ タイトル案:                                      │
│ 【メンバー限定】HSPエンジニアの                  │
│ 今月の振り返りコラム                             │
│                                                  │
│ 概要: 今月あった出来事や学びを共有。             │
│ コミュニティ向けの親密な日記的コラム             │
│                                                  │
│ [修正] [承認]                                    │
└──────────────────────────────────────┘

（以下、残りの記事案が続く...）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

修正画面（[修正]ボタン押下時）:

修正指示:
┌─────────────────────────┐
│ もっとキャッチーなタイトルにしてほしい   │
│ テーマを家庭DXに変更したい              │
└─────────────────────────┘

[再生成] [キャンセル]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.2.4 データ保存

**保存先**: Google Drive `/ContentHub/NoteIdeas/YYYY-MM.json`

**データ構造**:
```json
{
  "month": "2026-03",
  "ideas": [
    {
      "id": "idea_001",
      "publish_date": "2026-03-03",
      "type": "free_no_affiliate",
      "title": "会議前のドキドキが消えた！HSPの私が見つけたAI活用術3選",
      "summary": "HSPあるあるの会議前不安に共感し...",
      "status": "approved",
      "affiliate_info": null
    },
    {
      "id": "idea_002",
      "publish_date": "2026-03-05",
      "type": "membership",
      "title": "【メンバー限定】今週のAI活用Q&Aまとめ",
      "summary": "メンバーからの質問に回答...",
      "status": "pending",
      "affiliate_info": null
    },
    {
      "id": "idea_003",
      "publish_date": "2026-03-07",
      "type": "free_with_affiliate",
      "title": "未経験から3ヶ月でエンジニアに転職できた理由",
      "summary": "IT未経験からの転職体験を語りつつ...",
      "status": "pending",
      "affiliate_info": {
        "category": "ITスクール",
        "name": "TechAcademy"
      }
    }
  ]
}
```

---

### 4.3 NOTE記事作成機能（4種類）【Phase 2】

#### 4.3.1 機能一覧

| 種類 | 文字数 | 特徴 | 価格 | 投稿頻度 |
|------|--------|------|------|---------|
| **無料記事（アフィなし）** | 2,000字 | フック重視、共感、ちょっとした悩みに回答 | 無料 | 月4回程度 |
| **無料記事（アフィあり）** | 2,000-3,000字 | 情報という価値提供 + アフィリエイト商品への自然な誘導 | 無料 | 月2回程度 |
| **メンバーシップ記事** | 2,000字 | コミュニティ限定コラム・Q&A回答・プロンプト配布 | 月額980円 | 月2〜3回 |
| **有料記事** | 2,000-5,000字+ | 情報資産（テンプレート、データ）付き、高単価 | ¥5,000-7,000 | 月1回程度 |

#### 4.3.2 共通仕様: 設定ボタン（プロンプト登録）

全4種類のNOTE作成機能に**設定ボタン**を設置。各種類ごとに独立したプロンプトを登録・管理できる。

**設定ボタンの仕様**:
- 押下でプロンプト登録画面を表示
- テキストエリアにプロンプト（記事構成ルール、トーン指示、注意事項など）を自由入力
- 保存するとGoogle Driveに永続化
- 記事生成時に、入力内容（タイトル・伝えたい内容等）と登録プロンプトを組み合わせてAI APIに送信

**設定画面UI**:
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚙️ プロンプト設定（無料記事・アフィなし）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

プロンプト:
┌─────────────────────────┐
│ 以下のルールで記事を作成してください。  │
│                                          │
│ ■ 冒頭はキャッチーな書き出しで          │
│   読者の共感を得る                       │
│ ■ 結論を先に出す                        │
│ ■ 具体例を3つ以上入れる                 │
│ ■ 失敗談を必ず含める                    │
│ ■ 最後に有料noteへの自然な誘導          │
│                                          │
│ 文体: です・ます調、絵文字ほぼなし     │
│ 文字数: 約2,000字                       │
└─────────────────────────┘

[保存] [リセット]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.3.3 無料記事作成（アフィリエイトなし）

**UI設計**:
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 無料NOTE記事作成（アフィリエイトなし）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

タイトル:
┌─────────────────────────┐
│ 3回転職・双極性障害を経験した私が     │
│ HSPとして働き続けられた理由            │
└─────────────────────────┘

伝えたい内容:
┌─────────────────────────┐
│ パワハラ退職、双極性障害を経験しても   │
│ 諦めずにキャリアを継続できた実体験。   │
│ HSPの繊細さを活かす働き方を提案。      │
│ 具体的な失敗談を多めに入れたい。       │
└─────────────────────────┘

[⚙️ 設定] [生成する]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【生成結果】（約2,000字）

# 3回転職・双極性障害を経験した私がHSPとして働き続けられた理由

（本文...）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[再生成] [コピー] [ダウンロード]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**記事構成ルール**:
```
■ 冒頭（フック・キャッチー）- 200字
・人の目を引くキャッチーな書き出し
・読者の「ちょっとした悩み」に触れる
・「私もそうでした」で共感

■ 結論（先出し）- 150字
・この記事で得られること3つ
・焦らさず、最初に結論

■ 本編 - 1,300字
・読者のちょっとした悩みに具体的に答える
・共感を大切にしながら解決策を提示
・具体例を3つ以上
・失敗談を必ず入れる
・箇条書きと段落を使い分け

■ まとめ - 300字
・今日からできること3つ
・前向きなメッセージ

■ 有料note誘導 - 50字
・自然な形で有料noteへ誘導

合計: 約2,000字

【重要ポイント】
- フックとして人の目を引くキャッチーな内容であること
- 共感が最も大切
- 読者のちょっとした悩みに答える構成にすること
```

**使用API**: Claude API（文体学習データを反映）

---

#### 4.3.4 無料記事作成（アフィリエイトあり）

**UI設計**:
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 無料NOTE記事作成（アフィリエイトあり）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

商材選択:
[ ITスクール ▼ ]

商材詳細:
┌─────────────────────────┐
│ サービス名: TechAcademy                │
│ URL: https://...                       │
│ 特徴: 無料カウンセリングあり           │
└─────────────────────────┘

タイトル:
┌─────────────────────────┐
│ 未経験から3ヶ月でエンジニアになる方法 │
└─────────────────────────┘

伝えたい内容:
┌─────────────────────────┐
│ IT未経験からの転職方法を解説。        │
│ 独学 vs スクールを比較しつつ、         │
│ TechAcademyへ自然に誘導したい。        │
└─────────────────────────┘

[⚙️ 設定] [生成する]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**記事構成ルール**:
```
■ 導入（共感 + メリット提示）- 300字
・読者の悩みに共感する
・この記事を読むメリットを明確に提示
・「情報という価値を提供する」姿勢

■ 本編（解決策提示）- 1,500字
・具体的な解決策やノウハウを提示
・独学 vs スクールの比較など客観的情報
・失敗談も含める

■ アフィリエイト商品紹介 - 500字
・相手に情報という価値を提供しつつ、
  アフィリエイトの商品へ**自然に誘導**
・商品の特徴（3つ）
・デメリットも正直に
・「こんな人におすすめ」明記
・「私も無料カウンセリング受けました」体験談

■ クロージング - 200字
・次に取るべき行動を促す
・アフィリエイトリンクや商品購入への誘導

合計: 2,500-3,000字

【アフィリエイト案件の種類】
- ITスクールの無料相談（TechAcademy、侍エンジニア等）
- IT転職のアフィリエイト（レバテックキャリア、Green等）
- 動画サブスク（U-NEXT、Amazonプライム等）
- Amazonアフィリエイト・楽天アフィリエイト（商品紹介）
```

**アフィリエイト商材プリセット**:
```javascript
const affiliatePresets = [
  {
    category: "ITスクール",
    items: [
      {name: "TechAcademy", url: "", feature: "無料カウンセリング"},
      {name: "侍エンジニア", url: "", feature: "マンツーマン指導"}
    ]
  },
  {
    category: "IT転職",
    items: [
      {name: "レバテックキャリア", url: "", feature: "エンジニア特化"},
      {name: "Green", url: "", feature: "IT/Web業界専門"}
    ]
  },
  {
    category: "動画サブスク",
    items: [
      {name: "U-NEXT", url: "", feature: "31日間無料"},
      {name: "Amazonプライム", url: "", feature: "月額500円"}
    ]
  },
  {
    category: "物販",
    items: [
      {name: "Amazon", url: "", feature: "豊富な品揃え"},
      {name: "楽天", url: "", feature: "ポイント還元"}
    ]
  }
];
```

---

#### 4.3.5 メンバーシップNOTE記事作成【v3.0新規】

**UI設計**:
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 メンバーシップNOTE記事作成（月額980円）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

タイトル:
┌─────────────────────────┐
│ 【メンバー限定】今週のAI活用Q&A      │
│ まとめ                                │
└─────────────────────────┘

伝えたい内容:
┌─────────────────────────┐
│ メンバーさんから頂いた質問に回答。    │
│ ChatGPTの新しいメモリ機能の活用法と  │
│ 転職面接で使えるプロンプトも紹介。    │
└─────────────────────────┘

[⚙️ 設定] [生成する]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【生成結果】（約2,000字）

# 【メンバー限定】今週のAI活用Q&Aまとめ

（本文...）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[再生成] [コピー] [ダウンロード]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**記事構成ルール**:
```
■ 冒頭（親しみのある挨拶）- 200字
・メンバーへの感謝と近況報告
・今回の内容の紹介
・コミュニティ内の話題に触れる

■ 本編（4パターンから選択 or 組み合わせ）- 1,500字

  【パターンA: 限定コラム・日記】
  ・日常の出来事や学びをHSP視点で共有
  ・失敗談や本音を多めに
  ・「ここだけの話」感を大切に

  【パターンB: ノウハウ簡易版】
  ・有料記事のエッセンスをコンパクトに
  ・すぐに試せる実践的なTips
  ・有料記事への自然な誘導も可

  【パターンC: Q&A回答】
  ・メンバーからの質問を3〜5個ピックアップ
  ・質問→回答の形式で読みやすく
  ・追加の質問を促す

  【パターンD: 有用プロンプト配布】
  ・実際に使えるプロンプトを3〜5個
  ・使い方の説明付き
  ・期待できる結果の例示

■ まとめ + 次回予告 - 300字
・今回のポイント
・次回の内容予告
・コミュニティへの参加を促す

合計: 約2,000字

【メンバーシップ記事の重要ポイント】
- 無料記事より「親密感」「特別感」を重視
- メンバーとの距離が近い文体（少しカジュアル）
- 他では読めない「ここだけ」の情報
- コミュニティの一体感を醸成する内容
- 月額980円の価値を感じてもらう
```

**使用API**: Claude API（メンバーシップ専用の文体学習データを反映）

---

#### 4.3.6 有料NOTE記事作成

**UI設計**:
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 有料NOTE記事作成
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

タイトル:
┌─────────────────────────┐
│ HSP女性が3回転職しても年収を          │
│ 下げなかった7つの戦略                  │
└─────────────────────────┘

伝えたい内容:
┌─────────────────────────┐
│ 実際に3回転職した経験から学んだ戦略。 │
│ 転職活動管理テンプレートと              │
│ ChatGPTプロンプト集を提供。             │
└─────────────────────────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ダウンロードコンテンツ:

[+ コンテンツ追加]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

追加済みコンテンツ:

1. Notionテンプレート
   名前: 転職活動管理テンプレート
   URL: https://notion.so/...
   [削除]

2. テキストファイル
   名前: ChatGPTプロンプト集50個
   URL: https://drive.google.com/...
   [削除]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

価格帯:
( ) お手頃（¥4,980-5,980）- 2,000字程度
(●) 高額（¥6,980-7,980）- 5,000字以上

[⚙️ 設定] [生成する]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**価格帯別の記事構成**:

**お手頃（¥4,980-5,980）- 約2,000字**:
```
【無料部分】- 1,000字
■ 導入（共感 + メリット提示）- 200字
  - 読者の悩みに共感
  - この記事を読むメリットを提示
■ 結論 - 150字
■ 本編1: 悩みへの共感 - 300字
■ 本編2: 解決策提示 + 有料部分の魅力を相対的に上げる - 350字
  - 他の無料サービスとの比較で有料部分の価値を演出
  - 「便利そう」「難しくなさそう」を演出
  - 「マニュアルがわかりやすそう」を演出
  - 「困った時のサポートが安心」を演出
  - 情報資産をもらった後の自分にワクワクさせる
  - 便利になった未来を想像させる
  - 【画像挿入位置】を3箇所指定

【有料部分（価値提供）】- 1,000字
■ 情報資産の提供 - 600字
  - Notionテンプレート、GAS付きスプレッドシート、VBAなど
  - 実際に手に取れる情報資産（テンプレート、データ）
  - セットアップ手順（画像付き指示）
  - 使い方の詳細説明
  - 【画像挿入位置】を5箇所指定
■ Q&A - 200字
■ まとめ - 200字

合計: 約2,000字 + 画像8枚指示
```

**高額（¥6,980-7,980）- 5,000字以上**:
```
【無料部分】- 2,000字
■ 導入（共感 + メリット提示）- 300字
  - 読者の悩みに共感
  - この記事を読むメリットを提示
■ 結論 - 200字
■ 本編1: 課題の深掘り - 500字
  - 統計データや実例
■ 本編2: 解決策の提示 + 有料部分の魅力を相対的に上げる - 700字
  - 他の無料サービスとの比較で有料部分の価値を演出
  - このnoteならではの価値
  - 「便利になった未来を想像させる」
  - 「情報資産をもらった後の自分にワクワクする」
■ 本編3: コンテンツの魅力 - 300字
  - 「便利そう」「難しくなさそう」「マニュアルがわかりやすそう」を演出
  - 「困った時のサポートが安心」を演出
  - 【画像挿入位置】を3箇所指定

【有料部分（価値提供）】- 3,000字以上
■ 情報提供（ノウハウ）- 1,500字
  - 具体的な解決策やノウハウを提示
  - 実践的な戦略・手法
  - 具体例3つ以上
■ 情報資産の提供 - 1,000字
  - 実際に手に取れる情報資産（テンプレート、データ）を価値として提供
  - Notionテンプレート、GAS付きスプレッドシート、VBA等
  - セットアップ手順（詳細）
  - カスタマイズ方法
  - トラブルシューティング
  - 【画像挿入位置】を10箇所指定
■ Q&A - 300字
■ まとめ + 特典案内 - 200字

合計: 5,000字以上 + 画像13枚指示

【有料記事の重要ポイント】
- テンプレートや便利ツールは別で作成済み。添付されたコンテンツを確認して使い方の説明文を生成する
- 情報だけでなく、実際に手に取れる情報資産（テンプレート、データ）を価値として提供
- 便利、難しくなさそう、マニュアルがわかりやすそう、困った時のサポートが安心
- 情報資産をもらった後の自分にワクワクする
- 便利になった未来を想像させる
```

**画像挿入位置の指示方法**:
```
【画像挿入位置 1/8】
※ここに「転職活動の全体フロー図」を挿入
（推奨サイズ: 横800px）

【画像挿入位置 2/8】
※ここに「Notionテンプレートのトップページ」のスクショを挿入
（推奨サイズ: 横1000px）

...
```

---

#### 4.3.7 NOTE記事の文体学習（種類別）

**学習データの分離（6種類）**:
- Google Drive: `/ContentHub/StyleLearning/note_free.json`
- Google Drive: `/ContentHub/StyleLearning/note_affiliate.json`
- Google Drive: `/ContentHub/StyleLearning/note_membership.json` 【v3.0新規】
- Google Drive: `/ContentHub/StyleLearning/note_paid.json`
- Google Drive: `/ContentHub/StyleLearning/x_style.json`
- Google Drive: `/ContentHub/StyleLearning/threads_style.json`

**それぞれ異なる文体特徴**:

| 種類 | トーン | 語尾 | 絵文字 | 段落 | 特記 |
|------|--------|------|--------|------|------|
| 無料（アフィなし） | 共感的・温かい | です・ます | ほぼなし | 短め | フック重視 |
| 無料（アフィあり） | 親しみやすい | です・ます | 少なめ | 中程度 | 情報提供+誘導 |
| メンバーシップ | 親密・カジュアル | です・ます（やや砕けた） | 少々 | 短め | 特別感・ここだけ感 |
| 有料 | プロフェッショナル | です・ます | なし | 長め | 情報の信頼性重視 |
| X投稿 | キャッチー・簡潔 | 体言止め多め | 少量 | - | 140字以内 |
| Threads投稿 | ストーリー調 | です・ます | 中程度 | やや長め | 500字以内 |

---

### 4.4 X投稿作成機能

#### 4.4.1 概要
- **毎日3投稿**できるように投稿案を作成する
- **新規作成ボタン**を押すと各ジャンルごとに**30個の投稿案**を新規生成
- 投稿案には**投稿済みボタン**と**保存ボタン**がある
- 保存ボタンを押すと**保存ボックス**に保存される
- 保存ボックスには**投稿済みボタン**と**削除ボタン**がある

#### 4.4.2 学習ロジック
- **投稿済みボタン**が押された → **良い投稿として学習**（今後の生成の参考にする）
- **保存済みボタン・投稿済みボタンどちらも押されていない状態で新規作成が押された** → **AIに選ばれなかった投稿として学習**（今後の生成のブラッシュアップに反映）
- **削除ボタン**が押された → **AIに選ばれなかった投稿として学習**（今後の生成のブラッシュアップに反映）
- 投稿済みボタンが押されたものは画面から消える

#### 4.4.3 UI設計

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📱 X投稿作成
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【投稿条件入力】

┌─────────────────────────────────┐
│ カテゴリ  │ 発信内容      │ 目的    │ ハッシュタグ │
├─────────────────────────────────┤
│ HSP共感   │ 会議前の緊張  │ 共感形成│ #HSP #AI活用 │
├─────────────────────────────────┤
│ 家庭DX    │ Notion家事管理│ 価値提供│ #Notion #共働き│
├─────────────────────────────────┤
│ （空欄）  │ （空欄）      │ （空欄）│ （空欄）     │
└─────────────────────────────────┘

[+ 行追加]

[投稿案を生成（各30個ずつ）] [保存BOXへ →]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【生成結果】HSP共感 - 30件

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌───────────────────────────┐
│ 投稿案 1/30                              │
├───────────────────────────┤
│                                          │
│ 「会議前に心臓バクバク」                 │
│ 「メール1通書くのに30分」                │
│ 「他人の機嫌が気になりすぎる」           │
│                                          │
│ 繊細さんあるあるですよね😢               │
│                                          │
│ でも、これをChatGPTで解決できたら？      │
│                                          │
│ 朝の心理的負担を減らす                   │
│ 3つのAI活用法をnoteで公開中📝            │
│                                          │
│ #HSP #AI活用 #繊細さん                   │
│                                          │
│ 文字数: 127字                            │
│                                          │
│ [保存] [投稿済み]                        │
└───────────────────────────┘

┌───────────────────────────┐
│ 投稿案 2/30                              │
├───────────────────────────┤
│ ...                                      │
└───────────────────────────┘

（30件続く...）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【生成結果】家庭DX - 30件

（30件表示...）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.4.4 保存BOX

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
💾 保存BOX
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

保存済み投稿: 15件

[全て] [HSP共感] [家庭DX] [IT資格] [マインド] [NOTE誘導]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌───────────────────────────┐
│ HSP共感 - 保存日: 2/6 07:30              │
├───────────────────────────┤
│                                          │
│ 「会議前に心臓バクバク」                 │
│ 「メール1通書くのに30分」                │
│ ...                                      │
│                                          │
│ #HSP #AI活用 #繊細さん                   │
│                                          │
│ [投稿済み] [削除] [コピー]               │
└───────────────────────────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.4.5 学習機能（データ保存）

**投稿済みボタンが押された時**:
- Google Drive: `/ContentHub/PostLearning/x_feedback.json` に保存
- 「good_posts」配列に追加
- 次回生成時、Claude APIに渡して学習

**削除ボタンが押された時**:
- 「rejected_posts」配列に追加
- 次回生成時、このパターンを避ける

**新規生成ボタンが押された時**:
- 未保存・未投稿の投稿は破棄
- 「rejected_posts」に追加（AIに選ばれなかった投稿として学習）

---

### 4.5 Threads投稿作成機能

**X投稿作成機能と同様のUI・機能・学習ロジック**
（毎日3投稿分、各ジャンル30個生成、保存BOX、投稿済み/保存/削除ボタンの学習機能も同様）

**違い（Threads特有の特徴）**:
- 文字数: 最大500字（Xより長文OK）
- トーン: ストーリー調、深い共感
- 絵文字: 中程度（投稿の最初と最後のみ）
- 改行: 4-5行で改行（Xより長い段落OK）

**学習データ**: `/ContentHub/PostLearning/threads_feedback.json`（X とは別管理）

---

### 4.6 文体学習機能

#### 4.6.1 概要
NOTE（4種類）とX・Threadsそれぞれ、**過去の記事や過去の投稿をコピペ**するとその人の文章の書き方を学習する。

#### 4.6.2 学習方法
- **コピペ学習**: 過去の記事・投稿をテキストエリアに貼り付けると文体を分析・学習
- 学習した書き方を**記事作成や投稿作成に反映**させる
- **分析機能で提示された改善案**を文体に反映させることができる
- **オリジナルの改善案**を手動で追加して反映させることもできる

#### 4.6.3 学習対象（6種類）

以下のデータを**別々に学習**:
1. NOTE無料記事（アフィなし）
2. NOTE無料記事（アフィあり）
3. NOTEメンバーシップ記事 【v3.0新規】
4. NOTE有料記事
5. X投稿
6. Threads投稿

**合計6種類の文体学習データを管理**

---

### 4.7 競合調査機能

#### 4.7.1 概要
自分のジャンルの競合を調査して自分の発信に反映させる機能。

#### 4.7.2 主な機能
- **流行っているハッシュタグの調査**: 自分のジャンルで今トレンドのハッシュタグを調査
- **指定したアカウントの調査**: 競合アカウントのフォロワー数、投稿頻度、エンゲージメント等を分析
- **バズっている投稿の構造分析**: バズっているアカウントの投稿から投稿構造を分析し、バズる文章のナレッジを作成
- 調査結果を自分の発信（投稿・記事）に反映させる

#### 4.7.3 実行方式

**実行頻度**: 月次（毎月末）+ 手動での今すぐ実行も可能

**実行タイミング**: 毎月末日 23:00

**通知**: 
- 簡易版レポート → Gmailで送信
- 詳細レポート → 画面表示

#### 4.7.4 データ取得項目【v3.0追加詳細】

**【X, Threads】自動で取得・比較すべきデータ項目**:

| カテゴリ | 取得項目 | 分析目的 |
|---------|---------|---------|
| 定量的数値 | フォロワー推移、総インプレッション（推定）、エンゲージメント率 | 競合が「今、伸びているか」の判定 |
| 投稿内容 | 投稿文（テキスト）、使用ハッシュタグ、リンクの有無、画像/動画の有無 | 伸びる投稿の「共通パターン」の抽出 |
| タイミング | 曜日別・時間帯別の投稿頻度 | ターゲットが最も反応する「ゴールデンタイム」の特定 |
| キーワード | 頻出ワード、トレンドワードとの親和性 | 読者の悩みや関心事のキーワード抽出 |

**【NOTE】自動で取得・比較すべきデータ項目**:

| 項目 | 分析目的 |
|------|---------|
| スキ数（like） | どのテーマの記事が最も評価されているか |
| 目次構成 | 人気記事の「見出し」を自動抽出（読者が知りたい情報の「骨組み」を可視化） |
| 価格設定 | 有料記事の価格帯（500円、1000円など）と、その販売サイクルの推測 |

#### 4.7.5 バズ投稿の構造分析 + ナレッジ作成【v3.0新規】

バズっているアカウントの投稿から投稿構造を分析し、バズる文章のナレッジを作成する機能。

- 分析結果画面に**再試行ボタン**を設置
- 再試行ボタンを押すと、異なる視点で再分析を実行
- 作成されたナレッジは投稿作成時のプロンプトに自動で反映

#### 4.7.6 UI設計

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔍 競合調査
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

次回調査予定: 2026/02/28（金）23:00

[今すぐ実行] [設定]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【最新の調査結果】 (2026/01/31実施)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

▼ NOTE: @competitor_note

フォロワー: 5,234人（先月比 +456人 / +9.5%）
有料note販売数: 推定23部/月
価格帯: ¥3,980-5,980

人気記事TOP3:
1. 「HSP転職完全ガイド」(¥5,980)
   - 推定12部販売
   
2. 「家庭DX実践マニュアル」(¥4,980)
   - 推定8部販売

よく使うハッシュタグ:
#HSP, #転職, #AI活用

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

▼ X: @competitor_x

フォロワー: 8,567人（先月比 +789人 / +10.1%）
投稿頻度: 1日4回
エンゲージメント率: 4.8%

...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【バズ投稿の構造分析 → ナレッジ】

バズ投稿の共通パターン:
1. 冒頭に「あるある」系の共感フック
2. 具体的な数字（3つ、5選 等）をタイトルに
3. 解決策を簡潔に提示
4. CTAが明確（「詳しくはnoteで」等）

[再試行]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【Gemini分析による示唆】

✅ 競合は朝6時台の投稿が多い → あなたは7時台で差別化
✅ 価格帯¥3,980-5,980が主流 → あなたは¥5,980-6,980で高単価化
⚠️ 競合もHSP訴求増加 → 「心を守る」独自ポジション強化を

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.7.7 設定画面

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚙️ 競合調査設定
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【調査対象アカウント】

NOTE:
1. ┌────────────────┐
   │ https://note.com/competitor1 │ [削除]
   └────────────────┘
   
2. ┌────────────────┐
   │ https://note.com/competitor2 │ [削除]
   └────────────────┘

3. （未登録） [+ 追加]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

X:
1. ┌────────────────┐
   │ @competitor_x1              │ [削除]
   └────────────────┘
   
2. （未登録） [+ 追加]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Threads:
1. ┌────────────────┐
   │ @competitor_threads1        │ [削除]
   └────────────────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【調査項目】（カスタマイズ可能）

☑ フォロワー数推移
☑ 投稿頻度
☑ エンゲージメント率
☑ 人気投稿TOP3
☑ 使用ハッシュタグ
☑ 価格帯分析（NOTE）
☑ バズ投稿の構造分析

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[保存]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.7.8 将来機能（Phase 3）

以下は開発コストが高いため、Phase 3以降で実装予定:

| 機能 | 概要 | 技術要素 |
|------|------|---------|
| **ポジネガ分析（感情分析）** | 競合へのリプライが「ポジティブ」か「ネガティブ」かを自動判定 | Python（MeCab/GiNZA）。別マイクロサービスとして構築推奨 |
| **変化の検知** | 「普段より2倍以上のエンゲージメント」の投稿を検知して通知 | Slack/Discord連携。分析基盤安定後に実装 |
| **非公開リストの活用** | XのAPIで競合リストを非公開作成し、発言を監視 | X API有料プラン（Basic $100/月〜）が必要な場合あり |

---

### 4.8 トレンド分析機能（市場調査）

#### 4.8.1 概要
**毎日定時**に自分のジャンルの最新情報や市場動向を調査して**メールにて送信**する。
調査結果は**投稿にも反映**させる。

#### 4.8.2 主な機能
- 毎日定時に自動実行（朝7時）
- 以下のソースから情報を収集:
  - **X**: バズっているキーワードとタグ
  - **Google**: トレンド市場調査（pytrendsまたはGeminiグラウンディング検索で代替）
  - **Yahoo知恵袋**: 重要ワードの調査（スクレイピング）
- 調査結果を**Gmailでレポートとして送信**
- 調査結果を**X・Threads投稿やNOTE記事の内容に反映**させる

#### 4.8.3 キーワード検索機能【v3.0新規】

自動実行の分析結果に加えて、**手動でキーワード検索**する機能:
- キーワード入力欄と検索ボタン
- 指定したキーワードについてX、Google、Yahooでの需要を追加調査
- 結果を分析結果画面に表示

**UI**:
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📈 トレンド分析
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【今日のトレンドレポート】（2026/02/10 07:00配信済み）

（自動分析結果の表示...）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【キーワード検索】

キーワード:
┌─────────────────────────┐
│ HSP 転職                               │
└─────────────────────────┘

[検索]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【検索結果】

▼ X での需要:
  関連ハッシュタグ: #HSP転職 #繊細さん転職 ...
  直近1週間の投稿数: 約2,300件

▼ Google での需要:
  検索ボリューム: 月間12,000回
  関連キーワード: 「HSP 転職 おすすめ」「HSP 仕事 辛い」...

▼ Yahoo知恵袋 での需要:
  関連質問数: 156件
  よくある悩み: 「面接が怖い」「職場の人間関係」...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

### 4.9 アカウント分析機能

#### 4.9.1 概要
**アカウント連携**したら、**週次・月次**で分析を行い、**レポートを作成してメールで送信**する。
分析結果をわかりやすく画面に表示し、**今後の改善提案**を行う。

#### 4.9.2 主な機能
- **アカウント連携**: X、Threads、NOTEのアカウントを連携
- **週次分析**: 毎週月曜 23:00 に自動実行
- **月次分析**: 毎月末に自動実行
- **レポートメール送信**: 分析結果をGmailで送信
- **画面表示**: 分析結果をわかりやすくダッシュボードに表示
- **改善提案**: AI分析による今後の改善提案を提示
- 改善提案を文体学習や投稿作成に反映可能

#### 4.9.3 実行タイミング
- **週次**: 毎週月曜 23:00
- **月次**: 毎月末

#### 4.9.4 UI設計

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 アカウント分析
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

次回分析予定: 2026/02/10（月）23:00

[今すぐ実行] [設定]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【最新の分析結果】 (2026/02/03実施)

対象期間: 2026/01/27 - 2026/02/02

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📱 X (Twitter)

フォロワー: 1,523人 (+78人 / +5.4%)
総インプレッション: 18,456回
エンゲージメント率: 3.8% (前週比 +0.3%)

▼ 今週の人気投稿TOP3
1. 「会議前に心臓バクバク...」
   いいね: 89 / RT: 28 / インプレッション: 2,789
   
2. 「家事を5時間削減したNotion活用法」
   いいね: 72 / RT: 21 / インプレッション: 2,456

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📝 NOTE

総PV数: 2,456 (+567 / +30%)
有料記事売上: ¥17,940 (3部)

▼ 人気記事TOP3
1. 「3回転職・双極性障害を経験した私が...」
   PV: 678 / 流入: X 82% / 検索 18%

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 改善提案（Gemini分析）

✅ 朝7時台の投稿が最も反応が良い（エンゲージメント4.5%）
   → 朝の投稿を増やす
   
✅ #HSP #AI活用 のハッシュタグが効果的
   → 継続使用を推奨

⚠️ NOTE誘導系の投稿が伸び悩み（エンゲージメント2.1%）
   → より自然な形でnoteを紹介する工夫が必要

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.9.5 設定画面

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚙️ アカウント分析設定
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【自分のアカウント】

X:
┌────────────────┐
│ @my_account_x              │
└────────────────┘

Threads:
┌────────────────┐
│ @my_account_threads        │
└────────────────┘

NOTE:
┌────────────────┐
│ https://note.com/my_account │
└────────────────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【分析設定】

☑ 週次分析（毎週月曜 23:00）
☑ 月次分析（毎月末）
☑ Gmailにレポート送信

送信先:
┌────────────────┐
│ my_email@gmail.com         │
└────────────────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[保存]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```
分） |
| **4. Threads投稿作成** | ⭐⭐⭐ | 1 | Threads投稿案30個生成（毎日3投稿分） |
| **5. NOTE記事案作成** | ⭐⭐⭐ | 1 | 1ヶ月分の記事案をスケジュール付きで生成 |
| **6. NOTE記事作成** | ⭐⭐⭐ | 2 | 4種類の記事作成（無料/アフィ/メンバーシップ/有料） |
| **7. 文体学習** | ⭐⭐ | 1 | 6種類の文体学習（コピペで学習） |
| **8. トレンド分析** | ⭐⭐ | 1.5 | 毎日のレポート閲覧 + キーワード検索 + メール送信 |
| **9. アカウント分析** | ⭐⭐ | 1.5 | 週次・月次レポート閲覧 + メール送信 |
| **10. 競合調査** | ⭐⭐ | 1.5 | アカウント調査 + バズ投稿ナレッジ作成 |
| **11. 設定** | ⭐ | 1 | 全体設定 |

---

### 6.2 ダッシュボード（更新版）

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ContentHub AI
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

👋 おはようございます、やまひさん

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📅 今週のコンテンツ予定 (2/6-2/12)

X: 21投稿予定（毎日3回）
Threads: 7投稿予定（毎日1回）
NOTE: メンバーシップ記事 1本（2/8公開予定）
NOTE: 有料記事 1本（2/10公開予定）

[コンテンツカレンダーを見る →]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 今週のサマリー (1/30-2/5)

X フォロワー: 1,523人 (+78人 ↑)
NOTE PV: 2,456 (+567 ↑)
有料note売上: ¥17,940 (3部)
メンバーシップ: 12人 (+3人 ↑) / 月額収入 ¥11,760

[詳細レポートを見る →]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 今日のタスク

□ X朝の投稿（7:30推奨）
□ X昼の投稿（12:30推奨）
□ X夜の投稿（21:00推奨）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚡ クイックアクション

[投稿案を見る] [NOTE記事作成] [カレンダー作成]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📰 最新のトレンド分析（今朝配信済み）

・HSP向け転職サービスが新規ローンチ
・ChatGPT新機能リリース: メモリ機能強化
・高単価note販売数が前月比20%増

[詳細を見る →]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 7. API仕様

### 7.1 コンテンツカレンダー生成

**エンドポイント**: `POST /api/content-calendar/generate`

**リクエスト**:
```json
{
  "start_date": "2026-03-01",
  "frequency_settings": {
    "x_per_day": 3,
    "threads_per_day": 1,
    "note_free_no_affiliate_per_month": 4,
    "note_free_with_affiliate_per_month": 2,
    "note_membership_per_month": 3,
    "note_paid_per_month": 1
  }
}
```

**レスポンス**:
```json
{
  "status": "success",
  "data": {
    "calendar_id": "calendar_2026-03",
    "start_date": "2026-03-01",
    "end_date": "2026-03-31",
    "total_posts": 130,
    "posts": [
      {
        "date": "2026-03-01",
        "day_of_week": "土",
        "time": "07:30",
        "platform": "X",
        "category": "HSP共感",
        "title_idea": "...",
        "purpose": "共感形成 → NOTE誘導",
        "hashtags": ["#HSP", "#AI活用"]
      }
    ]
  }
}
```

---

### 7.2 カレンダー1行修正

**エンドポイント**: `POST /api/content-calendar/regenerate-row`

**リクエスト**:
```json
{
  "calendar_id": "calendar_2026-03",
  "row_index": 5,
  "custom_instruction": "もっとポジティブな内容にしてほしい"
}
```

---

### 7.3 NOTE記事案生成（1ヶ月分）

**エンドポイント**: `POST /api/note-ideas/generate`

**リクエスト**:
```json
{
  "month": "2026-03",
  "frequency_settings": {
    "note_free_no_affiliate_per_month": 4,
    "note_free_with_affiliate_per_month": 2,
    "note_membership_per_month": 3,
    "note_paid_per_month": 1
  }
}
```

---

### 7.4 NOTE記事生成（4種類統合）【Phase 2】

**エンドポイント**: `POST /api/note/generate`

**リクエスト（メンバーシップ記事）**【v3.0新規】:
```json
{
  "type": "membership",
  "title": "【メンバー限定】今週のAI活用Q&Aまとめ",
  "content_brief": "メンバーさんから頂いた質問に回答。ChatGPTの新しいメモリ機能の活用法と転職面接で使えるプロンプトも紹介。"
}
```

**リクエスト（無料記事・アフィなし）**:
```json
{
  "type": "free_no_affiliate",
  "title": "3回転職・双極性障害を経験した私がHSPとして働き続けられた理由",
  "content_brief": "パワハラ退職、双極性障害を経験しても諦めずにキャリアを継続できた実体験。HSPの繊細さを活かす働き方を提案。"
}
```

**リクエスト（無料記事・アフィあり）**:
```json
{
  "type": "free_with_affiliate",
  "title": "未経験から3ヶ月でエンジニアになる方法",
  "content_brief": "IT未経験からの転職方法を解説。",
  "affiliate": {
    "category": "ITスクール",
    "name": "TechAcademy",
    "url": "https://...",
    "feature": "無料カウンセリングあり"
  }
}
```

**リクエスト（有料記事）**:
```json
{
  "type": "paid",
  "title": "HSP女性が3回転職しても年収を下げなかった7つの戦略",
  "content_brief": "実際に3回転職した経験から学んだ戦略。",
  "price_tier": "premium",
  "assets": [
    {
      "type": "notion_template",
      "name": "転職活動管理テンプレート",
      "url": "https://notion.so/..."
    }
  ]
}
```

---

### 7.5 X・Threads投稿生成

**エンドポイント**: `POST /api/posts/generate`

**リクエスト**:
```json
{
  "platform": "x",
  "conditions": [
    {
      "category": "HSP共感",
      "content_idea": "会議前の緊張",
      "purpose": "共感形成",
      "hashtags": "#HSP #AI活用"
    },
    {
      "category": "家庭DX",
      "content_idea": "Notion家事管理",
      "purpose": "価値提供",
      "hashtags": "#Notion #共働き"
    }
  ],
  "count_per_condition": 30
}
```

---

### 7.6 プロンプト設定（保存/取得）【v3.0新規】

**エンドポイント**: `GET /api/prompt-settings/:type`

**エンドポイント**: `PUT /api/prompt-settings/:type`

**リクエスト**:
```json
{
  "type": "note_free",
  "prompt": "以下のルールで記事を作成してください。\n\n■ 冒頭はキャッチーな書き出しで..."
}
```

---

## 8. 開発フェーズ（更新版）

### Phase 1: 基盤 + コア機能（Week 1-2）

**目標**: コンテンツ生成の主要機能を動作させる

**Week 1: 基盤構築**
- [ ] プロジェクト初期化（React + Express）
- [ ] Google Drive API連携
- [ ] Claude API連携テスト
- [ ] Gemini API連携テスト
- [ ] 基本的なUI実装（ダッシュボード）
- [ ] 認証機能（Google OAuth）
- [ ] 文体学習機能（6種類対応）

**Week 2: コア機能**
- [ ] **コンテンツカレンダー生成機能（最優先）**
- [ ] NOTE記事案作成機能
- [ ] X投稿作成機能（複数条件対応 + 保存BOX + 学習ループ）
- [ ] Threads投稿作成機能
- [ ] UI実装（カレンダー画面、投稿作成画面）

---

### Phase 1.5: 自動化機能（Week 3）

**目標**: スケジュール実行 + メール通知

- [ ] スケジューラー実装（node-cron）
- [ ] トレンド分析機能（毎日7時）+ キーワード検索
- [ ] アカウント分析機能（毎週月曜23時 + 月次）
- [ ] 競合調査機能（月末23時）+ バズ投稿ナレッジ作成
- [ ] Gmail API連携（メール送信）
- [ ] UI実装（分析画面、設定画面）

---

### Phase 2: NOTE記事作成 + 仕上げ（Week 4-5）

**目標**: NOTE記事作成機能のアプリ組み込み + デプロイ

- [ ] NOTE記事作成（4種類: 無料/アフィ/メンバーシップ/有料）
- [ ] 設定ボタン（プロンプト登録）機能
- [ ] X API連携（データ取得）
- [ ] Threads API連携（データ取得）
- [ ] NOTE API連携 or スクレイピング
- [ ] デプロイ（Vercel + Railway/Render）
- [ ] 実際に使ってテスト・改善
- [ ] バグ修正

---

### Phase 3: 高度な分析機能（将来）

- [ ] ポジネガ分析（Python MeCab/GiNZA、別マイクロサービス）
- [ ] 変化検知 → Slack/Discord通知
- [ ] 非公開リストの活用（X API有料プラン検討）
- [ ] Notion連携（双方向同期）
- [ ] より高度な分析機能

---

## 9. Notion連携（将来機能）

### 9.1 実装予定（Phase 3）

**機能**:
- コンテンツカレンダーをNotionデータベースに同期
- Notion側での編集をアプリに反映
- 双方向同期

**暫定対応（Phase 1〜2）**:
- コンテンツカレンダーの**CSVダウンロード**機能を提供
- ユーザーが手動でNotionにインポート

**使用API**:
- Notion API

**データベース構造**:
```
【Notionデータベース】
- 日付（Date）
- 曜日（Text）
- 時間（Text）
- Platform（Select: X / Threads / NOTE）
- 記事種別（Select: 無料 / アフィ / メンバーシップ / 有料）
- カテゴリ（Select: HSP共感 / 家庭DX / ...）
- タイトル案（Text）
- 目的（Text）
- ハッシュタグ（Text）
- ステータス（Select: 未投稿 / 投稿済み）
```

---

## 10. コスト試算（更新版）

### 10.1 月間コスト

**Claude API**:
- NOTE記事生成: 10回/月 × 8,000トークン × $0.003/1Kトークン = $0.24
  （4種類: 無料4 + アフィ2 + メンバーシップ3 + 有料1 = 10回）
- NOTE記事案生成: 1回/月 × 15,000トークン × $0.003/1Kトークン = $0.045
- 投稿生成: 10回/月 × 12,000トークン × $0.003/1Kトークン = $0.36
- カレンダー生成: 1回/月 × 50,000トークン × $0.003/1Kトークン = $0.15
- 文体学習: 6回/月 × 3,000トークン × $0.003/1Kトークン = $0.054
- **合計**: 約$0.85/月（約¥130）

**Gemini API**:
- トレンド分析: 30回/月 × 1,000トークン = 30,000トークン
- 競合調査: 1回/月 × 10,000トークン = 10,000トークン
- アカウント分析: 5回/月 × 5,000トークン = 25,000トークン
- **合計**: 65,000トークン/月（無料枠150万トークン以内）
- **コスト**: ¥0

**その他**:
- X API: ¥0（Free tier）
- Google Drive: ¥0（無料枠）
- Vercel: ¥0（無料）
- Railway: ¥0（無料）
- Gmail API: ¥0（無料）

**月間総コスト**: 約¥130
**年間総コスト**: 約¥1,600

---

## 11. v2.0からの変更履歴

### 11.1 主な変更点（v3.0）

1. **メンバーシップNOTE記事作成機能を追加（復活）**
   - 月額980円のコミュニティ向け
   - 限定コラム・日記、ノウハウ簡易版、Q&A回答、有用プロンプト配布の4パターン
   - 約2,000字、月2〜3回投稿
   - 専用の文体学習データを管理

2. **NOTE記事作成を4種類に整理**（無料/無料アフィ/メンバーシップ/有料）
   - v2.0では3種類（メンバーシップ廃止）だったものを4種類に復活

3. **文体学習を6種類に拡張**（NOTE4種類 + X + Threads）

4. **設定ボタン（プロンプト登録）機能を追加**
   - 全4種類のNOTE作成機能にプロンプト登録機能を設置
   - 各種類ごとに独立したプロンプトを管理
   - 入力内容とプロンプトを組み合わせてAI APIに送信

5. **開発方針・機能切り分けセクションを追加**
   - アプリ組み込み必須 / Phase 2 / 将来機能の3段階で判定
   - Phase 1でのNOTE記事作成のClaude.ai代替手段を明記

6. **競合調査の詳細データ項目を追加**
   - X/Threads/NOTE別の取得項目一覧
   - バズ投稿の構造分析→ナレッジ作成機能（再試行ボタン付き）

7. **トレンド分析にキーワード検索機能を追加**
   - 手動でキーワードを入力してX/Google/Yahoo知恵袋での需要を調査

8. **将来機能（Phase 3）を明記**
   - ポジネガ分析（MeCab/GiNZA）→ 別マイクロサービス推奨
   - 変化検知 → Slack/Discord通知
   - 非公開リスト活用（X API有料プラン検討）
   - Notion双方向同期

9. **コンテンツカレンダーの投稿頻度設定にメンバーシップ記事を追加**

10. **データ構造にメンバーシップ関連のフォルダ・ファイルを追加**
    - StyleLearning/note_membership.json
    - PromptSettings/note_membership_prompt.json
    - Generated/Notes/Membership/

11. **開発フェーズをPhase 1 / 1.5 / 2 / 3の4段階に再編成**
    - NOTE記事作成をPhase 2に移動（Phase 1ではClaude.aiで代替）
    - Phase 1.5（自動化機能）を新設

---

これで完成です! 🎉

何か不明点や追加要望があれば教えてください!
